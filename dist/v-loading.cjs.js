'use strict';

const setStyle = (ele, obj) => {
  for (const key of Object.keys(obj)) {
    ele.style[key] = `${obj[key]}`;
  }
};
const getStyle = (ele, attr) => {
  return document.defaultView.getComputedStyle(ele)[attr];
};

const clearBorder = (ele, duration = 600) => {
  setStyle(ele, {
    "borderBottom": "0 solid transparent",
    "transition": `border-bottom ${duration}ms`
  });
  setTimeout(() => {
    setStyle(ele, {
      "transition": "none"
    });
  }, duration);
};

const clearHeight = (ele, duration = 600) => {
  let color = getStyle(ele, "backgroundColor");
  setStyle(ele, {
    height: "0",
    background: color,
    transition: `height ${duration}ms`
  });
  setTimeout(() => {
    setStyle(ele, {
      "transition": "none"
    });
  }, duration);
};

const clearLoadingImg = (ele) => {
  setStyle(ele, {
    background: "none"
  });
};

const setBorder = (ele, value, color = "#f0f0f0") => {
  setStyle(ele, {
    "borderBottom": `${value}px solid ${color}`,
    transition: "none",
  });
};

const setHeight = (ele, value, color ="#f0f0f0") => {
  setStyle(ele, {
    height: `${value}px`,
    background: color,
    transition: "none"
  });
};

const setLoadingImg = (ele, src="./loading.gif") => {
  let color = getStyle(ele, "backgroundColor");
  setStyle(ele, {
    background: `url(${src}) center/4em no-repeat ${color}`
  });
};

const defaultOptions = {
  max: 80,
  bg: "#f0f0f0",
  cb: () => {},
  stage1Begin: () => {},
  stage2Begin: (ele) => {
    setLoadingImg(ele);
  },
  stage1End: () => {},
  stage2End: () => {
    clearLoadingImg(ele);
  },
  stage2: () => {},
  duration: 250,
};

class VLoading {
  constructor(ele, options) {
    this.ele = ele;
    this.options = Object.assign(defaultOptions, options);
    this.data = {
      y: 0,
      start: 0,
      move: false,
      ing: false,
    };
    this.insertLoading();
    this.init();
  }
  insertLoading() {
    const loading = this.options.loading;
    if(loading)
      return;
    let firstNode = this.ele.firstElementChild,
      div = document.createElement("div");
    this.ele.insertBefore(div, firstNode);
    this.options.loading = div;
  }
  init() {
    let ele = this.ele,
      data = this.data,
      loading = this.options.loading,
      cb = this.options.cb,
      max = this.options.max,
      bg = this.options.bg,
      duration = this.options.duration,
      stage1Begin = this.options.stage1Begin,
      stage2Begin = this.options.stage2Begin,
      stage1End = this.options.stage1End,
      stage2End = this.options.stage1End;

    ele.addEventListener("touchstart", (e) => {
      if(data.ing)
        return;
      data.move = true;
      data.start = e.touches[0].pageY;
    });
    ele.addEventListener("touchmove", (e) => {
      if(!data.move)
        return;
      let move = e.touches[0].pageY,
        deltaY = move - data.start;
      if(ele.scrollTop === 0) {
        if(deltaY > 0 || data.ing)
          e.preventDefault();
        let y = data.y = deltaY;
        if(y >= max) {
          // y = y < (max + 100) ? (y - max) / 4 : (y-max)/2;
          y = (y - max) / 2;
          stage2Begin(loading);
          setBorder(loading, y, bg);
        } else {
          stage1Begin(loading);
          setHeight(loading, y, bg);
        }
      }
    }, {passive: false});
    ele.addEventListener("touchend", (e) => {
      let y = data.y,
        move = data.move;
      data.start = data.y = 0;
      data.move = false;
      if(!move)
        return;
      if(y > max) {
        clearBorder(loading, duration);
        cb(() => {stage2End(loading);clearHeight(loading, duration);data.ing = false;});
      } else {
        stage1End(loading);
        data.ing = false;
        clearBorder(loading, duration);
        clearHeight(loading, duration);
      }
    });
    ele.addEventListener("touchcancel", (e) => {
    });
  }
}

module.exports = VLoading;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidi1sb2FkaW5nLmNqcy5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3V0aWxzL2luZGV4LmpzIiwiLi4vc3JjL2NvcmUvZGVmYXVsdC5qcyIsIi4uL3NyYy9jb3JlL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNldFN0eWxlID0gKGVsZSwgb2JqKSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaikpIHtcbiAgICBlbGUuc3R5bGVba2V5XSA9IGAke29ialtrZXldfWA7XG4gIH1cbn1cbmNvbnN0IGdldFN0eWxlID0gKGVsZSwgYXR0cikgPT4ge1xuICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGUpW2F0dHJdO1xufVxuXG5jb25zdCBjbGVhckJvcmRlciA9IChlbGUsIGR1cmF0aW9uID0gNjAwKSA9PiB7XG4gIHNldFN0eWxlKGVsZSwge1xuICAgIFwiYm9yZGVyQm90dG9tXCI6IFwiMCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgIFwidHJhbnNpdGlvblwiOiBgYm9yZGVyLWJvdHRvbSAke2R1cmF0aW9ufW1zYFxuICB9KVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzZXRTdHlsZShlbGUsIHtcbiAgICAgIFwidHJhbnNpdGlvblwiOiBcIm5vbmVcIlxuICAgIH0pXG4gIH0sIGR1cmF0aW9uKVxufVxuXG5jb25zdCBjbGVhckhlaWdodCA9IChlbGUsIGR1cmF0aW9uID0gNjAwKSA9PiB7XG4gIGxldCBjb2xvciA9IGdldFN0eWxlKGVsZSwgXCJiYWNrZ3JvdW5kQ29sb3JcIik7XG4gIHNldFN0eWxlKGVsZSwge1xuICAgIGhlaWdodDogXCIwXCIsXG4gICAgYmFja2dyb3VuZDogY29sb3IsXG4gICAgdHJhbnNpdGlvbjogYGhlaWdodCAke2R1cmF0aW9ufW1zYFxuICB9KVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzZXRTdHlsZShlbGUsIHtcbiAgICAgIFwidHJhbnNpdGlvblwiOiBcIm5vbmVcIlxuICAgIH0pXG4gIH0sIGR1cmF0aW9uKVxufVxuXG5jb25zdCBjbGVhckxvYWRpbmdJbWcgPSAoZWxlKSA9PiB7XG4gIHNldFN0eWxlKGVsZSwge1xuICAgIGJhY2tncm91bmQ6IFwibm9uZVwiXG4gIH0pXG59XG5cbmNvbnN0IHNldEJvcmRlciA9IChlbGUsIHZhbHVlLCBjb2xvciA9IFwiI2YwZjBmMFwiKSA9PiB7XG4gIHNldFN0eWxlKGVsZSwge1xuICAgIFwiYm9yZGVyQm90dG9tXCI6IGAke3ZhbHVlfXB4IHNvbGlkICR7Y29sb3J9YCxcbiAgICB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgfSlcbn1cblxuY29uc3Qgc2V0SGVpZ2h0ID0gKGVsZSwgdmFsdWUsIGNvbG9yID1cIiNmMGYwZjBcIikgPT4ge1xuICBzZXRTdHlsZShlbGUsIHtcbiAgICBoZWlnaHQ6IGAke3ZhbHVlfXB4YCxcbiAgICBiYWNrZ3JvdW5kOiBjb2xvcixcbiAgICB0cmFuc2l0aW9uOiBcIm5vbmVcIlxuICB9KVxufVxuXG5jb25zdCBzZXRMb2FkaW5nSW1nID0gKGVsZSwgc3JjPVwiLi9sb2FkaW5nLmdpZlwiKSA9PiB7XG4gIGxldCBjb2xvciA9IGdldFN0eWxlKGVsZSwgXCJiYWNrZ3JvdW5kQ29sb3JcIik7XG4gIHNldFN0eWxlKGVsZSwge1xuICAgIGJhY2tncm91bmQ6IGB1cmwoJHtzcmN9KSBjZW50ZXIvNGVtIG5vLXJlcGVhdCAke2NvbG9yfWBcbiAgfSlcbn1cblxuY29uc3QgZGFtcCA9ICh4LCBtYXgpID0+IHtcbiAgbGV0IHVuaXQgPSAoeCkgPT4ge1xuICAgIHJldHVybiBNYXRoLmF0YW4oeCkgLyAoTWF0aC5QSSAvIDIpO1xuICB9XG4gIGxldCBjb250cmFjdGlvbiA9ICh4LCBtYXgpID0+IHtcbiAgICByZXR1cm4geCAvIG1heDtcbiAgfVxuICByZXR1cm4gdW5pdChjb250cmFjdGlvbih4LCBtYXgpKSAqIG1heDtcbn1cbmV4cG9ydCB7XG4gIHNldFN0eWxlLFxuICBzZXRIZWlnaHQsXG4gIHNldEJvcmRlcixcbiAgY2xlYXJIZWlnaHQsXG4gIGNsZWFyQm9yZGVyLFxuICBkYW1wLFxuICBzZXRMb2FkaW5nSW1nLFxuICBjbGVhckxvYWRpbmdJbWdcbn1cbiIsImltcG9ydCB7Y2xlYXJMb2FkaW5nSW1nLCBzZXRMb2FkaW5nSW1nfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIG1heDogODAsXG4gIGJnOiBcIiNmMGYwZjBcIixcbiAgY2I6ICgpID0+IHt9LFxuICBzdGFnZTFCZWdpbjogKCkgPT4ge30sXG4gIHN0YWdlMkJlZ2luOiAoZWxlKSA9PiB7XG4gICAgc2V0TG9hZGluZ0ltZyhlbGUpXG4gIH0sXG4gIHN0YWdlMUVuZDogKCkgPT4ge30sXG4gIHN0YWdlMkVuZDogKCkgPT4ge1xuICAgIGNsZWFyTG9hZGluZ0ltZyhlbGUpXG4gIH0sXG4gIHN0YWdlMjogKCkgPT4ge30sXG4gIGR1cmF0aW9uOiAyNTAsXG59XG5leHBvcnQge1xuICBkZWZhdWx0T3B0aW9uc1xufVxuIiwiaW1wb3J0IHtkZWZhdWx0T3B0aW9uc30gZnJvbSBcIi4vZGVmYXVsdFwiO1xuaW1wb3J0IHtjbGVhckJvcmRlciwgY2xlYXJIZWlnaHQsIGNsZWFyTG9hZGluZ0ltZywgc2V0Qm9yZGVyLCBzZXRIZWlnaHQsIHNldExvYWRpbmdJbWcsIGRhbXB9IGZyb20gXCIuLi91dGlscy9pbmRleFwiO1xuXG5jbGFzcyBWTG9hZGluZyB7XG4gIGNvbnN0cnVjdG9yKGVsZSwgb3B0aW9ucykge1xuICAgIHRoaXMuZWxlID0gZWxlO1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIHk6IDAsXG4gICAgICBzdGFydDogMCxcbiAgICAgIG1vdmU6IGZhbHNlLFxuICAgICAgaW5nOiBmYWxzZSxcbiAgICB9XG4gICAgdGhpcy5pbnNlcnRMb2FkaW5nKCk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cbiAgaW5zZXJ0TG9hZGluZygpIHtcbiAgICBjb25zdCBsb2FkaW5nID0gdGhpcy5vcHRpb25zLmxvYWRpbmc7XG4gICAgaWYobG9hZGluZylcbiAgICAgIHJldHVybjtcbiAgICBsZXQgZmlyc3ROb2RlID0gdGhpcy5lbGUuZmlyc3RFbGVtZW50Q2hpbGQsXG4gICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZWxlLmluc2VydEJlZm9yZShkaXYsIGZpcnN0Tm9kZSk7XG4gICAgdGhpcy5vcHRpb25zLmxvYWRpbmcgPSBkaXY7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICBsZXQgZWxlID0gdGhpcy5lbGUsXG4gICAgICBkYXRhID0gdGhpcy5kYXRhLFxuICAgICAgbG9hZGluZyA9IHRoaXMub3B0aW9ucy5sb2FkaW5nLFxuICAgICAgY2IgPSB0aGlzLm9wdGlvbnMuY2IsXG4gICAgICBtYXggPSB0aGlzLm9wdGlvbnMubWF4LFxuICAgICAgYmcgPSB0aGlzLm9wdGlvbnMuYmcsXG4gICAgICBkdXJhdGlvbiA9IHRoaXMub3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIHN0YWdlMUJlZ2luID0gdGhpcy5vcHRpb25zLnN0YWdlMUJlZ2luLFxuICAgICAgc3RhZ2UyQmVnaW4gPSB0aGlzLm9wdGlvbnMuc3RhZ2UyQmVnaW4sXG4gICAgICBzdGFnZTFFbmQgPSB0aGlzLm9wdGlvbnMuc3RhZ2UxRW5kLFxuICAgICAgc3RhZ2UyRW5kID0gdGhpcy5vcHRpb25zLnN0YWdlMUVuZDtcblxuICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCAoZSkgPT4ge1xuICAgICAgaWYoZGF0YS5pbmcpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRhdGEubW92ZSA9IHRydWU7XG4gICAgICBkYXRhLnN0YXJ0ID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuICAgIH0pXG4gICAgZWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGlmKCFkYXRhLm1vdmUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGxldCBtb3ZlID0gZS50b3VjaGVzWzBdLnBhZ2VZLFxuICAgICAgICBkZWx0YVkgPSBtb3ZlIC0gZGF0YS5zdGFydDtcbiAgICAgIGlmKGVsZS5zY3JvbGxUb3AgPT09IDApIHtcbiAgICAgICAgaWYoZGVsdGFZID4gMCB8fCBkYXRhLmluZylcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB5ID0gZGF0YS55ID0gZGVsdGFZXG4gICAgICAgIGlmKHkgPj0gbWF4KSB7XG4gICAgICAgICAgLy8geSA9IHkgPCAobWF4ICsgMTAwKSA/ICh5IC0gbWF4KSAvIDQgOiAoeS1tYXgpLzI7XG4gICAgICAgICAgeSA9ICh5IC0gbWF4KSAvIDI7XG4gICAgICAgICAgc3RhZ2UyQmVnaW4obG9hZGluZyk7XG4gICAgICAgICAgc2V0Qm9yZGVyKGxvYWRpbmcsIHksIGJnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFnZTFCZWdpbihsb2FkaW5nKTtcbiAgICAgICAgICBzZXRIZWlnaHQobG9hZGluZywgeSwgYmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge3Bhc3NpdmU6IGZhbHNlfSlcbiAgICBlbGUuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIChlKSA9PiB7XG4gICAgICBsZXQgeSA9IGRhdGEueSxcbiAgICAgICAgbW92ZSA9IGRhdGEubW92ZTtcbiAgICAgIGRhdGEuc3RhcnQgPSBkYXRhLnkgPSAwO1xuICAgICAgZGF0YS5tb3ZlID0gZmFsc2U7XG4gICAgICBpZighbW92ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYoeSA+IG1heCkge1xuICAgICAgICBjbGVhckJvcmRlcihsb2FkaW5nLCBkdXJhdGlvbik7XG4gICAgICAgIGNiKCgpID0+IHtzdGFnZTJFbmQobG9hZGluZyk7Y2xlYXJIZWlnaHQobG9hZGluZywgZHVyYXRpb24pO2RhdGEuaW5nID0gZmFsc2U7fSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFnZTFFbmQobG9hZGluZyk7XG4gICAgICAgIGRhdGEuaW5nID0gZmFsc2U7XG4gICAgICAgIGNsZWFyQm9yZGVyKGxvYWRpbmcsIGR1cmF0aW9uKTtcbiAgICAgICAgY2xlYXJIZWlnaHQobG9hZGluZywgZHVyYXRpb24pO1xuICAgICAgfVxuICAgIH0pXG4gICAgZWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCAoZSkgPT4ge1xuICAgIH0pXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFZMb2FkaW5nO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLO0FBQy9CLEVBQUUsS0FBSyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3RDLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQyxHQUFHO0FBQ0gsRUFBQztBQUNELE1BQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksS0FBSztBQUNoQyxFQUFFLE9BQU8sUUFBUSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMxRCxFQUFDO0FBQ0Q7QUFDQSxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLEdBQUcsR0FBRyxLQUFLO0FBQzdDLEVBQUUsUUFBUSxDQUFDLEdBQUcsRUFBRTtBQUNoQixJQUFJLGNBQWMsRUFBRSxxQkFBcUI7QUFDekMsSUFBSSxZQUFZLEVBQUUsQ0FBQyxjQUFjLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUMvQyxHQUFHLEVBQUM7QUFDSixFQUFFLFVBQVUsQ0FBQyxN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
